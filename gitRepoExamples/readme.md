Samples code are provided in the ev3c-master repository in the folder eg/tacho and eg/sensor.

Samples of how to control the motors and sensors are included in tester.c in repository of the course in 2020.
Use the "i2c" target of the provided Makefile to compile the file if the compass sensor does not work with the test_sensor program.